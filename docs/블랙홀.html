<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="../style/popup.css" />
    <link rel="stylesheet" href="../style/style.css" />
    <title>Document</title>
    <style>
      .message {
        position: absolute;
        width: 60px;
        left: 600px;
        top: 500px;
        cursor: pointer;
      }
    </style>
  </head>
  <body>
    <div id="background" style="background: black">
      <div onclick="openBag()" class="bagIcon"></div>
      <div class="bagBackground invisible">
        <div class="inBag">item</div>
      </div>
      <img
        class="arrow"
        src="../source/arrow.png"
        style="
          width: 120px;
          height: 120px;
          transform: rotateZ(-90deg);
          top: 40vh;
          left: 3vw;
        "
        onclick="goBack()"
      />
      <img class="message" onclick="messageClick()" src="../source/쪽지.png" />

      <img
        src="../source/seed.png"
        id="seed"
        style="
          width: 4vw;
          position: absolute;
          left: 48vw;
          top: 48vh;
          cursor: pointer;
        "
        onclick="getSeed()"
      />
    </div>

    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="../js/bag.js"></script>
    <script>
      const goBack = () => {
        window.location.assign("길3.html");
      };

      const getSeed = () => {
        Swal.fire({
          text: "씨앗을 획득했습니다.",
          timer: 1700,
          padding: 0,
          width: 300,
          backdrop: false,
          position: "bottom-end",
          timerProgressBar: true,
          didOpen: () => {
            Swal.showLoading();
          },
          willClose: () => {
            clearInterval(timerInterval);
          },
        }).then(result => {
          /* Read more about handling dismissals below */
        });
        window.localStorage.setItem("seed", "true");
        window.localStorage.setItem("getSeed", "true");
        $("#seed").addClass("invisible");
      };

      const messageClick = () => {
        Swal.fire({
          title: "쪽지",
          text: "러시 아워의 교통체증을 해결하고 꽃의 비밀을 해결한 뒤 말을 탄 기사가 왕을 사로잡을 때, 영광의 내일을 향한 길이 열리리라",
          width: 700,
          padding: 20,
        });
      };

      addEventListener("load", () => {
        const getSeed = window.localStorage.getItem("getSeed");
        if (getSeed === "true") {
          $("#seed").addClass("invisible");
        }
      });
    </script>
  </body>
</html>
